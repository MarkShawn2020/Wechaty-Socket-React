<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>模拟拖拽</title>
</head>
<body>

<div
  id="block"
  style="width: 100px; height: 100px; background: #2f855a; position: absolute; left: 0; top: 0"></div>


<script type="text/javascript">
  // const block = document.getElementById('block')
  block.onmousedown = ((cursor)=>{

    console.log({block, cursor})

    const blockLeftBefore = block.offsetLeft
    const blockTopBefore = block.offsetTop

    const cursorXBefore = cursor.clientX
    const cursorYBefore = cursor.clientY

    block.onmousemove = (cursorNew) => {
      block.style.left = blockLeftBefore + cursorNew.clientX - cursorXBefore + 'px'
      block.style.top = blockTopBefore + cursorNew.clientY - cursorYBefore + 'px'
    }

    block.onmouseup = () => {
      block.onmousemove = null
    }

  })

</script>
</body>
</html>
